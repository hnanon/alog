<%= simple_form_for (@product) do |f| %>
  <% if @product.errors.any? %>
    <div class="grid wrap">
      <div class="unit wwhole error">
        <h2><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h2>
        <ul>
          <% @product.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>

  <div class="grid wrap no-gutters">
    <div class="unit whole field">
      <%= f.input :name, required: "required", placeholder: "Enter Product Name" %>
    </div>

    <div class="unit whole field">
      <%= f.input :type_id, collection: @types.map{|o| [o.name, o.id]} %>
    </div>
    <div id="product_options">
      <%= f.simple_fields_for :product_options do |product_option| %>
        <%= render 'product_option_fields', :f => product_option %>
      <% end %>
      <div class="links">
        <%= link_to_add_association 'Add Another Option', f, :product_options %>
      </div>
    </div>
    <div class="unit whole actions">
      <%= f.submit %>
    </div>
  </div>
<% end %>